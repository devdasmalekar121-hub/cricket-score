<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Cricket Scoreboard Pro</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap');
        
        body { 
            background: #0f0f0f; 
            font-family: 'Roboto', sans-serif; 
            margin: 0; padding: 20px; 
            color: white; 
            display: flex; flex-direction: column; align-items: center; 
        }

        /* --- SCOREBOARD SECTION --- */
        .main-container { width: 900px; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5)); }

        /* Neon Win Meter */
        #neon-win-container { 
            background: #000; border-radius: 12px 12px 0 0; 
            padding: 12px 0 8px 0; border: 1px solid #333; border-bottom: none; 
        }
        .win-labels { display: flex; justify-content: space-between; padding: 0 20px 8px 20px; align-items: center; }
        #txt-t1 { color: #00f2ff; text-shadow: 0 0 10px #00f2ff; font-weight: 900; font-size: 14px; text-transform: uppercase; }
        #txt-t2 { color: #ff0055; text-shadow: 0 0 10px #ff0055; font-weight: 900; font-size: 14px; text-transform: uppercase; }
        #d-live-calc { 
            background: rgba(255,255,255,0.1); color: #fff; border: 1px solid #444;
            padding: 3px 15px; border-radius: 20px; font-size: 11px; font-weight: bold;
        }
        .neon-bar-bg { 
            width: 96%; height: 10px; background: #111; border-radius: 10px; 
            margin: 0 auto; display: flex; overflow: hidden; border: 1px solid #222;
        }
        #bar-t1 { 
            width: 50%; height: 100%; background: linear-gradient(90deg, #0041ff, #00f2ff); 
            box-shadow: 0 0 15px #00f2ff; transition: 1s ease; position: relative;
        }
        #bar-t2 { 
            width: 50%; height: 100%; background: linear-gradient(90deg, #ff0055, #ff4d00); 
            box-shadow: 0 0 15px #ff0055; transition: 1s ease; position: relative;
        }
        .win-val { position: absolute; top: -18px; font-size: 14px; font-weight: 900; }

        /* Main Scoreboard Body */
        .scoreboard { width: 100%; position: relative; }
        #flash-overlay { 
            position: absolute; width: 100%; height: 100%; display: none; 
            align-items: center; justify-content: center; font-size: 50px; 
            font-weight: 900; z-index: 100; text-transform: uppercase; 
        }
        .top-bar { 
            display: flex; height: 70px; background: linear-gradient(90deg, #00122e, #002b6b); 
            border-bottom: 4px solid #fec309; position: relative;
        }
        .team-box { width: 150px; background: #fec309; color: #00122e; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 26px; }
        .score-box { width: 220px; display: flex; align-items: center; justify-content: center; font-size: 36px; font-weight: 900; background: #00122e; }
        .bats-info { flex-grow: 1; display: flex; align-items: center; justify-content: space-around; font-size: 18px; padding-right: 170px; background: rgba(0,0,0,0.2); }
        .opp-score-box { 
            position: absolute; right: 0; top: 0; height: 100%; width: 170px; 
            background: #d9534f; border-left: 3px solid #fff; 
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .bottom-bar { 
            height: 45px; background: #000; display: flex; align-items: center; 
            padding: 0 20px; font-size: 14px; color: #fec309; border-radius: 0 0 12px 12px;
        }
        .dot { width: 28px; height: 28px; border-radius: 50%; background: #222; border: 1px solid #444; display: flex; align-items: center; justify-content: center; margin-left: 8px; font-weight: bold; font-size: 12px;}
        .dot-active { background: #fec309; color: #000; border-color: #fff; box-shadow: 0 0 8px #fec309; }
        .dot-w { background: #fff; color: #d9534f; border-color: #d9534f; }

        /* --- ADMIN PANEL SECTION --- */
        .admin-panel { width: 900px; background: #fff; color: #222; border-radius: 12px; padding: 20px; margin-top: 20px; border: 5px solid #003a8c; box-sizing: border-box; }
        .admin-row { display: flex; gap: 10px; margin-bottom: 15px; align-items: center; flex-wrap: wrap; }
        .label { font-size: 12px; font-weight: 900; width: 100px; color: #003a8c; text-transform: uppercase; }
        button { padding: 12px; cursor: pointer; border: none; border-radius: 6px; font-weight: 900; font-size: 14px; flex: 1; transition: 0.2s; }
        button:active { transform: scale(0.95); }
        .btn-blue { background: #003a8c; color: white; }
        .btn-red { background: #d9534f; color: white; }
        .btn-green { background: #2ecc71; color: white; }
        .btn-yel { background: #fec309; color: #000; }
        .btn-neon { background: #00f2ff; color: #000; }
        input { padding: 10px; border: 1px solid #ccc; border-radius: 6px; flex: 1; font-size: 14px; }
    </style>
</head>
<body>

    <div class="main-container">
        <div id="neon-win-container">
            <div class="win-labels">
                <span id="txt-t1">TEAM 1</span>
                <div id="d-live-calc">1ST INNINGS IN PROGRESS</div>
                <span id="txt-t2">TEAM 2</span>
            </div>
            <div class="neon-bar-bg">
                <div id="bar-t1">
                    <div class="win-val" id="val-t1" style="right: 5px; color: #00f2ff;">50%</div>
                </div>
                <div id="bar-t2">
                    <div class="win-val" id="val-t2" style="left: 5px; color: #ff0055;">50%</div>
                </div>
            </div>
        </div>

        <div class="scoreboard">
            <div id="flash-overlay">FOUR</div>
            <div class="top-bar">
                <div class="team-box" id="d-team">TEAM 1</div>
                <div class="score-box"><span id="d-runs">0</span>-<span id="d-wkt">0</span> <span style="font-size:20px; margin-left:10px; opacity:0.7;">(<span id="d-ov">0.0</span>)</span></div>
                <div class="bats-info">
                    <div><span id="d-b1">B1</span><span id="d-b1s">*</span> <span id="d-b1r" style="font-weight:900;">0</span></div>
                    <div><span id="d-b2">B2</span><span id="d-b2s"></span> <span id="d-b2r" style="font-weight:900;">0</span></div>
                </div>
                <div class="opp-score-box">
                    <div style="font-size:12px; font-weight:bold; opacity:0.8;" id="d-opp-name">OPPONENT</div>
                    <div style="font-size:20px; font-weight:900;" id="d-opp-val">0-0 (0.0)</div>
                </div>
            </div>
            <div class="bottom-bar">
                <span id="d-tour">TOURNAMENT NAME</span> &nbsp;|&nbsp; <span id="d-status">1ST INN | CRR: 0.00</span>
                <div style="margin-left:auto; display:flex; align-items:center;">
                    <span id="d-bowl" style="font-weight:bold; font-size:12px; color:#fff; margin-right:10px;">BOWLER</span>
                    <div style="display:flex;" id="dots-container">
                        <div class="dot">1</div><div class="dot">2</div><div class="dot">3</div><div class="dot">4</div><div class="dot">5</div><div class="dot">6</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="admin-panel">
        <div class="admin-row">
            <div class="label">Quick Score:</div>
            <button class="btn-blue" onclick="changeScore(1)">+1</button>
            <button class="btn-yel" onclick="changeScore(4)">FOUR</button>
            <button class="btn-yel" onclick="changeScore(6)">SIX</button>
            <button class="btn-red" onclick="changeScore(-1)">-1</button>
            <button class="btn-green" onclick="nextBall()">NEXT BALL</button>
            <button class="btn-red" onclick="addWicket()">WICKET</button>
            <button class="btn-blue" style="flex:0.5" onclick="resetOver()">NEW OVER</button>
        </div>

        <div class="admin-row" style="background:#f9f9f9; padding:10px; border-radius:8px;">
            <div class="label">Win Controls:</div>
            <button id="btn-mode" class="btn-yel" onclick="toggleWinMode()">MODE: AUTO</button>
            <button class="btn-neon" onclick="manualAdjust(5)">T1 +5%</button>
            <button class="btn-red" style="background:#ff0055" onclick="manualAdjust(-5)">T2 +5%</button>
            <input type="number" id="i-manual-win" placeholder="Direct %" oninput="directWinInput()">
            <button class="btn-blue" onclick="resetWinMeter()">RESET METER</button>
        </div>

        <div class="admin-row">
            <div class="label">Match Info:</div>
            <input type="text" id="i-team" placeholder="Batting Team" oninput="upd()">
            <input type="text" id="i-tour" placeholder="Tournament Name" oninput="upd()">
            <input type="text" id="i-bowl" placeholder="Current Bowler" oninput="upd()">
            <button class="btn-yel" style="flex:0.4" onclick="toggleInn()">TOGGLE INN</button>
        </div>

        <div class="admin-row">
            <div class="label">Batsmen:</div>
            <input type="text" id="i-b1" placeholder="Batsman 1" oninput="upd()"> <button class="btn-blue" style="flex:0.2" onclick="setS(1)">Striker</button>
            <input type="text" id="i-b2" placeholder="Batsman 2" oninput="upd()"> <button class="btn-blue" style="flex:0.2" onclick="setS(2)">Striker</button>
        </div>

        <div class="admin-row">
            <div class="label">Opponent:</div>
            <input type="text" id="i-opp-name" placeholder="Opponent Name" oninput="upd()">
            <input type="text" id="i-opp-score" placeholder="Target/Score (e.g. 150)" oninput="upd()">
            <input type="text" id="i-opp-ov" placeholder="Opp. Overs" oninput="upd()">
            <button class="btn-red" onclick="location.reload()">RESET ALL</button>
        </div>
    </div>

    <script>
        let st = { r:0, w:0, b:0, o:0, b1r:0, b2r:0, s:1, inn:1, curBall:0 };
        let isAutoMode = true; let manualWinVal = 50;

        function upd() {
            document.getElementById('d-team').innerText = document.getElementById('i-team').value || "TEAM 1";
            document.getElementById('d-tour').innerText = document.getElementById('i-tour').value || "TOURNAMENT NAME";
            document.getElementById('d-b1').innerText = document.getElementById('i-b1').value || "B1";
            document.getElementById('d-b2').innerText = document.getElementById('i-b2').value || "B2";
            document.getElementById('d-bowl').innerText = (document.getElementById('i-bowl').value || "BOWLER").toUpperCase();
            document.getElementById('d-opp-name').innerText = (document.getElementById('i-opp-name').value || "OPPONENT").toUpperCase();
            
            let oScore = document.getElementById('i-opp-score').value || "0-0";
            let oOv = document.getElementById('i-opp-ov').value || "0.0";
            document.getElementById('d-opp-val').innerText = oScore + " (" + oOv + ")";
            refresh();
        }

        function changeScore(v) {
            st.r += v; if(st.s===1) st.b1r += v; else st.b2r += v;
            if(v === 4) triggerFlash("FOUR", "#fec309", "#000");
            if(v === 6) triggerFlash("SIX", "#2ecc71", "#000");
            refresh();
        }

        function triggerFlash(txt, bg, col) {
            let f = document.getElementById('flash-overlay');
            f.innerText = txt; f.style.background = bg; f.style.color = col;
            f.style.display = "flex";
            setTimeout(() => { f.style.display = "none"; }, 1500);
        }

        function nextBall() {
            if(st.curBall < 6) {
                st.curBall++; st.b++;
                if(st.b >= 6) { st.o++; st.b = 0; }
                document.querySelectorAll('.dot')[st.curBall-1].classList.add('dot-active');
            } refresh();
        }

        function addWicket() {
            if(st.curBall < 6) {
                st.w++; st.curBall++; st.b++;
                if(st.b >= 6) { st.o++; st.b = 0; }
                let d = document.querySelectorAll('.dot')[st.curBall-1];
                d.classList.add('dot-w'); d.innerText = "W";
                triggerFlash("OUT", "#d9534f", "#fff");
            } refresh();
        }

        function resetOver() {
            st.curBall = 0;
            document.querySelectorAll('.dot').forEach((d, i) => { d.classList.remove('dot-active', 'dot-w'); d.innerText = i + 1; });
        }

        function toggleWinMode() { isAutoMode = !isAutoMode; refresh(); }
        function manualAdjust(v) { isAutoMode = false; manualWinVal += v; refresh(); }
        function directWinInput() { let v = parseInt(document.getElementById('i-manual-win').value); if(!isNaN(v)) { isAutoMode = false; manualWinVal = v; refresh(); } }
        function resetWinMeter() { isAutoMode = true; manualWinVal = 50; refresh(); }
        function setS(n) { st.s = n; refresh(); }
        function toggleInn() { st.inn = st.inn === 1 ? 2 : 1; refresh(); }

        function refresh() {
            // Main Display
            document.getElementById('d-runs').innerText = st.r;
            document.getElementById('d-wkt').innerText = st.w;
            document.getElementById('d-ov').innerText = st.o + "." + st.b;
            document.getElementById('d-b1r').innerText = st.b1r;
            document.getElementById('d-b2r').innerText = st.b2r;
            document.getElementById('d-b1s').innerText = st.s===1 ? "*" : "";
            document.getElementById('d-b2s').innerText = st.s===2 ? "*" : "";
            
            let crr = (st.r / (st.o + st.b/6) || 0).toFixed(2);
            document.getElementById('d-status').innerText = st.inn + (st.inn==1?"ST":"ND") + " INNINGS | CRR: " + crr;

            // Win Meter & Calc Logic
            let finalWin1 = 50;
            let calcText = "1ST INNINGS IN PROGRESS";
            let target = parseInt(document.getElementById('i-opp-score').value) || 0;

            if (isAutoMode) {
                if (st.inn === 2 && target > 0) {
                    let need = target - st.r;
                    let ballsLeft = 120 - (st.o * 6 + st.b);
                    if (ballsLeft < 0) ballsLeft = 0;
                    calcText = need > 0 ? `NEED ${need} RUNS IN ${ballsLeft} BALLS` : "MATCH WON!";
                    let rrr = (need / (ballsLeft / 6 || 1));
                    finalWin1 = 100 - (rrr * 8) - (st.w * 5);
                } else {
                    finalWin1 = 50 + (st.r / 5) - (st.w * 7) - ((st.o * 6 + st.b) / 15);
                }
            } else {
                finalWin1 = manualWinVal;
                calcText = "MANUAL OVERRIDE ON";
            }

            if (finalWin1 > 96) finalWin1 = 96; if (finalWin1 < 4) finalWin1 = 4;
            document.getElementById('bar-t1').style.width = Math.round(finalWin1) + "%";
            document.getElementById('bar-t2').style.width = (100 - Math.round(finalWin1)) + "%";
            document.getElementById('val-t1').innerText = Math.round(finalWin1) + "%";
            document.getElementById('val-t2').innerText = (100 - Math.round(finalWin1)) + "%";
            document.getElementById('d-live-calc').innerText = calcText;

            // Mode UI
            let mBtn = document.getElementById('btn-mode');
            mBtn.innerText = isAutoMode ? "MODE: AUTO" : "MODE: MANUAL";
            mBtn.style.background = isAutoMode ? "#fec309" : "#2ecc71";
            
            // Sync names again
            document.getElementById('txt-t1').innerText = document.getElementById('i-team').value || "TEAM 1";
            document.getElementById('txt-t2').innerText = document.getElementById('i-opp-name').value || "TEAM 2";
        }
    </script>
</body>
</html>
